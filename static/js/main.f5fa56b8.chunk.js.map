{"version":3,"sources":["Snake.js","Food.js","Canvas.js","index.js"],"names":["Snake","_ref","cellSize","left","top","react_default","a","createElement","className","style","width","concat","height","Food","Canvas","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","document","addEventListener","changeDirection","setInterval","snakeMove","e","keyCode","keys","right","state","direction","setState","down","up","dir","x","y","newSnake","toConsumableArray","snake","snakeElem","key","appConfig","CANVASWIDTH","CANVASHEIGHT","unshift","food","newFoodX","Math","floor","random","newFoodY","splice","canvasWidth","CELLSIZE","canvasHeight","_this2","map","src_Snake_0","src_Food_0","Component","App","src_Canvas_0","ReactDOM","render","src_App_0","querySelector"],"mappings":"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","file":"static/js/main.f5fa56b8.chunk.js","sourcesContent":["import React from 'react';\nimport './Snake.css';\n\nconst Snake = ({cellSize, left, top}) => {\n  return <div className=\"snake\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Snake;","import React from 'react';\nimport './Food.css';\n\nconst Food = ({cellSize, left, top}) => {\n  return <div className=\"food\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Food;","import React, {Component} from 'react';\nimport './Canvas.css';\nimport Snake from './Snake';\nimport Food from './Food';\n\nclass Canvas extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      snake : [\n        {x:2, y:3, key:2 },\n        {x:2, y:4, key:1 },\n        {x:2, y:5, key:0 },\n      ], \n      food : {x:5, y:2,},\n      direction: \"up\",\n    };\n\n    this.canvasWidth = props.appConfig.CANVASWIDTH * props.appConfig.CELLSIZE;\n    this.canvasHeight= props.appConfig.CANVASHEIGHT * props.appConfig.CELLSIZE;\n    this.cellSize = props.appConfig.CELLSIZE;\n    this.keys = {left: 37, up: 38, right: 39, down: 40};\n  }\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.changeDirection);\n    setInterval(this.snakeMove, 200);\n  }\n\n  changeDirection = (e) => {\n    switch(e.keyCode){\n      case this.keys.right: if(this.state.direction !== \"left\") { this.setState({ direction: \"right\" }); } break;\n      case this.keys.down: if(this.state.direction !== \"up\") { this.setState({ direction: \"down\" }); } break;\n      case this.keys.left: if(this.state.direction !== \"right\") { this.setState({ direction: \"left\" }); } break;\n      case this.keys.up: if(this.state.direction !== \"down\") { this.setState({ direction: \"up\" }); } break;\n      default: return; \n    }\n  };\n\n  snakeMove = () => {\n    let dir;\n\n    switch(this.state.direction){\n      case \"right\": dir = { x:1, y:0, }; break;\n      case \"down\": dir= { x:0, y:1, }; break;\n      case \"left\": dir = { x:-1, y:0, }; break;\n      case \"up\": dir = { x:0, y:-1, }; break;\n      default: return; \n    }\n\n    const newSnake = [...this.state.snake];\n    const snakeElem = { x: newSnake[0].x+dir.x, y: newSnake[0].y+dir.y, key: newSnake[0].key+1, };\n\n    // prevent crash\n    if(snakeElem.x >= this.props.appConfig.CANVASWIDTH){\n      snakeElem.x = 0;\n    }\n    if(snakeElem.y >= this.props.appConfig.CANVASHEIGHT){\n      snakeElem.y = 0;\n    }\n    if(snakeElem.x < 0){\n      snakeElem.x = this.props.appConfig.CANVASWIDTH-1;\n    }\n    if(snakeElem.y < 0){\n      snakeElem.y = this.props.appConfig.CANVASHEIGHT-1;\n    }\n\n    newSnake.unshift(snakeElem);\n\n\n    // find food\n    if (snakeElem.x === this.state.food.x && snakeElem.y === this.state.food.y){\n      const newFoodX = Math.floor(Math.random() * this.props.appConfig.CANVASWIDTH);\n      const newFoodY = Math.floor(Math.random() * this.props.appConfig.CANVASHEIGHT);\n      this.setState({food : { x: newFoodX, y:newFoodY, }});\n    } else {\n      newSnake.splice(-1,1);\n    }\n\n    this.setState({snake:newSnake});\n  };\n \n\n  render(){\n    return (\n      <div className=\"canvas\" style={{ width: `${this.canvasWidth}px`, height: `${this.canvasHeight}px`}}>\n        {this.state.snake.map(snake => (\n          <Snake\n            key={snake.key}\n            cellSize={this.cellSize}\n            left={this.cellSize * snake.x}\n            top={this.cellSize * snake.y}\n          />\n        ))}\n        <Food\n          cellSize={this.cellSize}\n          left={this.cellSize * this.state.food.x}\n          top={this.cellSize * this.state.food.y}\n        />\n      </div>\n    );\n\n\n  }\n}\n\nexport default Canvas;","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport Canvas from './Canvas';\nimport './App.css';\n\nclass App extends Component {\n\n  appConfig = {\n    CANVASWIDTH: 18,\n    CANVASHEIGHT: 18,\n    CELLSIZE: 22,\n  };\n\n  render(){\n    return <div className=\"app\"><Canvas appConfig={this.appConfig} /></div>\n  }\n}\n\nReactDOM.render(<App />, document.querySelector('#root'));\n\n\n"],"sourceRoot":""}