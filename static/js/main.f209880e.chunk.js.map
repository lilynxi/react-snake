{"version":3,"sources":["Snake.js","Food.js","Button.js","Canvas.js","index.js"],"names":["Snake","_ref","cellSize","left","top","react_default","a","createElement","className","style","width","concat","height","Food","Button","handleClick","e","_this","props","direction","this","onClick","Component","Canvas","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","componentDidMount","document","addEventListener","changeDirection","setInterval","snakeMove","keyCode","keys","right","state","setState","down","up","dir","x","y","newSnake","toConsumableArray","snake","snakeElem","key","appConfig","CANVASWIDTH","CANVASHEIGHT","unshift","food","newFoodX","Math","floor","random","newFoodY","splice","canvasWidth","CELLSIZE","canvasHeight","_this2","map","src_Snake_0","src_Food_0","src_Button_0","App","src_Canvas_0","ReactDOM","render","src_App_0","querySelector"],"mappings":"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","file":"static/js/main.f209880e.chunk.js","sourcesContent":["import React from 'react';\nimport './Snake.css';\n\nconst Snake = ({cellSize, left, top}) => {\n  return <div className=\"snake\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Snake;","import React from 'react';\nimport './Food.css';\n\nconst Food = ({cellSize, left, top}) => {\n  return <div className=\"food\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Food;","import React, {Component} from 'react';\nimport './Button.css';\n\n// const Button = ({direction}) => {\n//   return <div className={`button-${direction} button`}>button</div>\n// }\n\nclass Button extends Component {\n  handleClick = (e) => {\n    //console.log(this.direction);\n    //console.log(this.props.direction);\n    this.props.handleClick(this.props.direction);\n  }\n\n\n  render(){\n    return <div className={`button-${this.props.direction} button`} onClick={this.handleClick}></div>;\n  }\n}\n\nexport default Button;","import React, {Component} from 'react';\nimport './Canvas.css';\nimport Snake from './Snake';\nimport Food from './Food';\nimport Button from './Button';\n\nclass Canvas extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      snake : [\n        {x:2, y:3, key:2 },\n        {x:2, y:4, key:1 },\n        {x:2, y:5, key:0 },\n      ], \n      food : {x:5, y:2,},\n      direction: \"up\",\n    };\n\n    this.canvasWidth = props.appConfig.CANVASWIDTH * props.appConfig.CELLSIZE;\n    this.canvasHeight= props.appConfig.CANVASHEIGHT * props.appConfig.CELLSIZE;\n    this.cellSize = props.appConfig.CELLSIZE;\n    this.keys = {left: 37, up: 38, right: 39, down: 40};\n  }\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.changeDirection);\n    setInterval(this.snakeMove, 150);\n  }\n\n  changeDirection = (e) => {\n    //TODO clean up\n    switch(e.keyCode){\n      case this.keys.right: if(this.state.direction !== \"left\") { this.setState({ direction: \"right\" }); } break;\n      case this.keys.down: if(this.state.direction !== \"up\") { this.setState({ direction: \"down\" }); } break;\n      case this.keys.left: if(this.state.direction !== \"right\") { this.setState({ direction: \"left\" }); } break;\n      case this.keys.up: if(this.state.direction !== \"down\") { this.setState({ direction: \"up\" }); } break;\n      default: return; \n    }\n  };\n\n  snakeMove = () => {\n    let dir;\n\n    switch(this.state.direction){\n      case \"right\": dir = { x:1, y:0, }; break;\n      case \"down\": dir= { x:0, y:1, }; break;\n      case \"left\": dir = { x:-1, y:0, }; break;\n      case \"up\": dir = { x:0, y:-1, }; break;\n      default: return; \n    }\n\n    const newSnake = [...this.state.snake];\n    const snakeElem = { x: newSnake[0].x+dir.x, y: newSnake[0].y+dir.y, key: newSnake[0].key+1, };\n\n    // prevent crash\n    if(snakeElem.x >= this.props.appConfig.CANVASWIDTH){\n      snakeElem.x = 0;\n    }\n    if(snakeElem.y >= this.props.appConfig.CANVASHEIGHT){\n      snakeElem.y = 0;\n    }\n    if(snakeElem.x < 0){\n      snakeElem.x = this.props.appConfig.CANVASWIDTH-1;\n    }\n    if(snakeElem.y < 0){\n      snakeElem.y = this.props.appConfig.CANVASHEIGHT-1;\n    }\n\n    newSnake.unshift(snakeElem);\n\n\n    // find food\n    if (snakeElem.x === this.state.food.x && snakeElem.y === this.state.food.y){\n      const newFoodX = Math.floor(Math.random() * this.props.appConfig.CANVASWIDTH);\n      const newFoodY = Math.floor(Math.random() * this.props.appConfig.CANVASHEIGHT);\n      this.setState({food : { x: newFoodX, y:newFoodY, }});\n    } else {\n      newSnake.splice(-1,1);\n    }\n\n    this.setState({snake:newSnake});\n  };\n\n  handleClick = (direction) => {\n    //TODO clean up\n    switch(direction){\n      case \"right\": if(this.state.direction !== \"left\") { this.setState({ direction: \"right\" }); } break;\n      case \"down\": if(this.state.direction !== \"up\") { this.setState({ direction: \"down\" }); } break;\n      case \"left\": if(this.state.direction !== \"right\") { this.setState({ direction: \"left\" }); } break;\n      case \"up\": if(this.state.direction !== \"down\") { this.setState({ direction: \"up\" }); } break;\n      default: return; \n    }\n  }\n \n\n  render(){\n    return (\n      <div className=\"canvas\" style={{ width: `${this.canvasWidth}px`, height: `${this.canvasHeight}px`}} >\n        {this.state.snake.map(snake => (\n          <Snake\n            key={snake.key}\n            cellSize={this.cellSize}\n            left={this.cellSize * snake.x}\n            top={this.cellSize * snake.y}\n          />\n        ))}\n        <Food\n          cellSize={this.cellSize}\n          left={this.cellSize * this.state.food.x}\n          top={this.cellSize * this.state.food.y}\n        />\n        <Button direction=\"right\" handleClick={this.handleClick} />\n        <Button direction=\"down\" handleClick={this.handleClick} />\n        <Button direction=\"left\" handleClick={this.handleClick} />\n        <Button direction=\"up\" handleClick={this.handleClick} />\n      </div>\n    );\n\n\n  }\n}\n\nexport default Canvas;","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport Canvas from './Canvas';\nimport './App.css';\n\nclass App extends Component {\n\n  appConfig = {\n    CANVASWIDTH: 18,\n    CANVASHEIGHT: 18,\n    CELLSIZE: 22,\n  };\n\n  render(){\n    return <div className=\"app\"><Canvas appConfig={this.appConfig} /></div>\n  }\n}\n\nReactDOM.render(<App />, document.querySelector('#root'));\n\n\n"],"sourceRoot":""}