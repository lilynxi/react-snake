{"version":3,"sources":["Snake.js","Food.js","Button.js","Canvas.js","index.js"],"names":["Snake","_ref","cellSize","left","top","react_default","a","createElement","className","style","width","concat","height","Food","Button","handleClick","e","_this","props","direction","this","onClick","Component","Canvas","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","speed","appConfig","INITIALSPEED","componentDidMount","document","addEventListener","changeDirection","createInterval","clearInterval","interval","setInterval","snakeMove","dir","state","x","y","newSnake","toConsumableArray","snake","snakeElem","CANVASWIDTH","CANVASHEIGHT","isColliding","setState","food","unshift","newFood","Math","floor","random","splice","elem","filter","oldSnakeElement","JSON","stringify","length","setDirection","key","canvasWidth","CELLSIZE","canvasHeight","_this2","map","index","src_Snake_0","src_Food_0","src_Button_0","App","src_Canvas_0","ReactDOM","render","src_App_0","querySelector"],"mappings":"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","file":"static/js/main.052b1a04.chunk.js","sourcesContent":["import React from 'react';\nimport './Snake.css';\n\nconst Snake = ({cellSize, left, top}) => {\n  return <div className=\"snake\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Snake;","import React from 'react';\nimport './Food.css';\n\nconst Food = ({cellSize, left, top}) => {\n  return <div className=\"food\" style={{ width: `${cellSize}px`, height: `${cellSize}px`, left: `${left}px`, top: `${top}px` }}></div>\n}\n\nexport default Food;","import React, {Component} from 'react';\nimport './Button.css';\n\nclass Button extends Component {\n  handleClick = (e) => {\n    this.props.handleClick(this.props.direction);\n  }\n\n\n  render(){\n    return <div className={`button-${this.props.direction} button`} onClick={this.handleClick}></div>;\n  }\n}\n\nexport default Button;","import React, {Component} from 'react';\nimport './Canvas.css';\nimport Snake from './Snake';\nimport Food from './Food';\nimport Button from './Button';\n\nclass Canvas extends Component {\n\n  speed = this.props.appConfig.INITIALSPEED;\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      snake : [\n        {x:2, y:3 },\n        {x:2, y:4 },\n        {x:2, y:5 },\n      ], \n      food : {x:5, y:2,},\n      direction: \"up\"\n    };\n\n    this.canvasWidth = props.appConfig.CANVASWIDTH * props.appConfig.CELLSIZE;\n    this.canvasHeight= props.appConfig.CANVASHEIGHT * props.appConfig.CELLSIZE;\n    this.cellSize = props.appConfig.CELLSIZE;\n  }\n\n  componentDidMount = () => {\n    document.addEventListener('keydown', this.changeDirection);\n    this.createInterval()\n  }\n\n  createInterval = () => {\n    clearInterval(this.interval)\n    this.interval = setInterval(this.snakeMove, this.speed);\n  }\n\n\n  snakeMove = () => {\n    let dir;\n\n    switch(this.state.direction){\n      case \"right\": dir = { x:1, y:0, }; break;\n      case \"down\": dir= { x:0, y:1, }; break;\n      case \"left\": dir = { x:-1, y:0, }; break;\n      case \"up\": dir = { x:0, y:-1, }; break;\n      default: return; \n    }\n\n    const newSnake = [...this.state.snake];\n    const snakeElem = { x: newSnake[0].x+dir.x, y: newSnake[0].y+dir.y };\n\n    // prevent crash with canvas\n    if(snakeElem.x >= this.props.appConfig.CANVASWIDTH){\n      snakeElem.x = 0;\n    }\n    if(snakeElem.y >= this.props.appConfig.CANVASHEIGHT){\n      snakeElem.y = 0;\n    }\n    if(snakeElem.x < 0){\n      snakeElem.x = this.props.appConfig.CANVASWIDTH-1;\n    }\n    if(snakeElem.y < 0){\n      snakeElem.y = this.props.appConfig.CANVASHEIGHT-1;\n    }\n\n    let isColliding = this.isColliding(snakeElem);\n\n\n    if (isColliding){\n      this.speed = this.props.appConfig.INITIALSPEED;\n      this.createInterval();\n      this.setState({\n        snake : [\n          {x:2, y:3 },\n          {x:2, y:4 },\n          {x:2, y:5 },\n        ], \n        food : {x:5, y:2,},\n        direction: \"up\", \n      });\n      return;\n    };\n\n    newSnake.unshift(snakeElem);\n\n\n    // find food\n    if (snakeElem.x === this.state.food.x && snakeElem.y === this.state.food.y){\n      let newFood = {\n        x : Math.floor(Math.random() * this.props.appConfig.CANVASWIDTH),\n        y : Math.floor(Math.random() * this.props.appConfig.CANVASHEIGHT),\n      }\n\n      while(this.isColliding(newFood)){\n        newFood = {\n          x : Math.floor(Math.random() * this.props.appConfig.CANVASWIDTH),\n          y : Math.floor(Math.random() * this.props.appConfig.CANVASHEIGHT),\n        }\n      }\n\n      this.setState({food : newFood });\n\n      this.speed = this.speed * 0.9\n      this.createInterval()\n\n    } else {\n      newSnake.splice(-1,1);\n    }\n\n    this.setState({snake:newSnake});\n  };\n\n  isColliding = (elem) => {\n    const filtered = this.state.snake.filter((oldSnakeElement) => {\n      if (JSON.stringify(oldSnakeElement) === JSON.stringify(elem)) {\n        return true;\n      }\n      return false\n    })\n\n    return filtered.length\n  };\n\n  handleClick = direction => {\n    this.setDirection(direction);\n  };\n\n  changeDirection = e => {\n    this.setDirection(e.key);\n  };\n\n  setDirection = (direction) => {\n    switch(direction){\n      case \"ArrowRight\": if(this.state.direction !== \"left\") { this.setState({ direction: \"right\" }); } break;\n      case \"ArrowDown\": if(this.state.direction !== \"up\") { this.setState({ direction: \"down\" }); } break;\n      case \"ArrowLeft\": if(this.state.direction !== \"right\") { this.setState({ direction: \"left\" }); } break;\n      case \"ArrowUp\": if(this.state.direction !== \"down\") { this.setState({ direction: \"up\" }); } break;\n      default: return; \n    }\n  }\n \n\n  render(){\n    return (\n      <div className=\"canvas\" style={{ width: `${this.canvasWidth}px`, height: `${this.canvasHeight}px`}} >\n        {this.state.snake.map((snake, index) => (\n          <Snake\n            key={`snake-elem-${index}`}\n            cellSize={this.cellSize}\n            left={this.cellSize * snake.x}\n            top={this.cellSize * snake.y}\n          />\n        ))}\n        <Food\n          cellSize={this.cellSize}\n          left={this.cellSize * this.state.food.x}\n          top={this.cellSize * this.state.food.y}\n        />\n        <Button direction=\"ArrowRight\" handleClick={this.handleClick} />\n        <Button direction=\"ArrowDown\" handleClick={this.handleClick} />\n        <Button direction=\"ArrowLeft\" handleClick={this.handleClick} />\n        <Button direction=\"ArrowUp\" handleClick={this.handleClick} />\n      </div>\n    );\n\n\n  }\n}\n\nexport default Canvas;","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport Canvas from './Canvas';\nimport './App.css';\n\nclass App extends Component {\n\n  appConfig = {\n    CANVASWIDTH: 18,\n    CANVASHEIGHT: 18,\n    CELLSIZE: 22,\n    INITIALSPEED: 400,\n  };\n\n  render(){\n    return <div className=\"app\"><Canvas appConfig={this.appConfig} /></div>\n  }\n}\n\nReactDOM.render(<App />, document.querySelector('#root'));\n\n\n"],"sourceRoot":""}